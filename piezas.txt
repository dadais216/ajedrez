def mover vacio mov color 20 200 115
def captura enemigo capt mov color 200 10 10

:1 0 #peon
w mover mset p0 1 exc mcmp y 7 capt spwn 5 or pass end
{wa,wd} mset p0 1 captura exc mcmp y 7 capt spwn 5 or pass end
mcmp p0 0 ww mover mset p0 1

:2 1 #torre
desliz w mover c end w captura
desliz a mover c end a captura
desliz d mover c end d captura
desliz s mover c end s captura

:3 2 #caballo
{{ww,ss}{a,d},{aa,dd}{w,s}} exc mover or captura end

:4 3 #alfil
desliz wa mover c end wa captura
desliz as mover c end as captura
desliz dw mover c end dw captura
desliz sd mover c end sd captura

:5 4 #reina
desliz w mover c end w captura
desliz a mover c end a captura
desliz d mover c end d captura
desliz s mover c end s captura
desliz wa mover c end wa captura
desliz as mover c end as captura
desliz dw mover c end dw captura
desliz sd mover c end sd captura

:6 5 #rey
{w,wa,a,as,s,sd,d,dw} exc mover or captura end

:7 5 #emperador
desliz w end desliz a end \
desliz isol desliz isol mover end d end end s end

:9 3 #memoria
mmore T p0 mset l0 T madd l0 3 mset p0 l0 w mover
mcmp t0 1 a mover
mcmp x y d mover
w pieza mcmp o1 1 ss mover
mcmp p1 1 aw mover mset t0 1 mset p1 0
mcmp p1 0 dw mover mset p1 1

:10 3 #memoria no turno
mcmp t0 1 a mover
mcmp x y d mover
w pieza mcmp o1 1 ss mover
mcmp p1 1 aw mover mset t0 1 mset p1 0
mcmp p1 0 dw mover mset p1 1


:8 0 #test caballos
#{{ww,ss}{a,d},{aa,dd}{w,s}} mover
#desliz {w,wa,a,as,s,sd,d,dw} mover c end
#desliz {w,wa,a,as,s,sd,d,dw} exc mover or mcmp l0 2 captura end c end
w mover mset p0 1 exc mcmp y 31 capt spwn 5 or pass end
{wa,wd} mset p0 1 captura exc mcmp y 31 capt spwn 5 or pass end
mcmp p0 0 ww mover mset p0 1
#desliz w end desliz a end \
#desliz isol desliz isol mover end d end end s end




